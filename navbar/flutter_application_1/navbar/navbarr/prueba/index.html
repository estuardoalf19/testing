<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Ejercicio PHP</h1>
<script>
  // Leer parámetro page de la URL
  const params = new URLSearchParams(window.location.search);
  let page = params.get('page') || 'inicio'; // por defecto 'inicio'

  // Ruta del archivo en pages
  let pageFile = `pages/${page}.html`;

  // Primero cargamos el template base
  fetch('template.html')
    .then(r => r.text())
    .then(template => {
      // Intentamos cargar la página solicitada
      fetch(pageFile)
        .then(r => {
          if (!r.ok) {
            // Si la página no existe, cargamos 404.html
            return fetch('pages/404.html').then(rr => rr.text());
          }
          return r.text();
        })
        .then(content => {
          // Reemplazar marcadores en el template
          const html = template
            .replace('{{titulo}}', page.charAt(0).toUpperCase() + page.slice(1))
            .replace('{{contenido}}', content);

          // Inyectar resultado final
          document.open();
          document.write(html);
          document.close();
        });
    })
    .catch(err => {
      document.body.innerHTML = '<h1>Error cargando el template</h1>';
      console.error(err);
    });
</script>

</body>
</html>